---
mongodb_install:
  enabled: true
  major: 3
  minor: 4
  patch: "*"

mongodb_daemon:
  bin: /usr/bin/mongod
  serviceFile: /etc/systemd/system/mongod.service
  user: mongod                              # Mongodb.org packages enforce
  group: mongod                             # user and group to be mongod

mongodb_conf:
  file: /etc/mongodb/mongod.conf            # Configuration file path
  pidFile: /var/run/mongodb/mongod.pid      # PID file path
  logFile: /var/log/mongodb/mongod.log      # Log file path (not recommended to be changed)
  keyFile: /etc/mongodb/mongod.key          # Keyfile path
  dbPath: /var/lib/mongo                    # Directory for datafiles
  dbEngine: wiredTiger                      # Storage Engine
  auth: false                               # Client authentication
  bindIp: "127.0.0.1"                       # Comma separated list of ip addresses to listen on
  cpu: yes                                  # Periodically show cpu and iowait utilization
  httpInterface: false                      # Enable (deprecated) http interface
  ipv6: false                               # Enable IPv6 support
  journal: true                             # Enable journaling
  logAppend: true                           # Append to logpath instead of over-writing
  maxConns: 800                             # Max number of simultaneous connections
  port: 27017                               # Specify TCP port number
  sysLog: false                             # Log to system's syslog facility instead of file (ignored if logpath set)
  replSet: ""                               # Enable replication <setname>[/<optionalseedhostlist>]
  oplogSize: 1024
  key: ""                                   # Keyfile content

mongodb_shell:
  run: false
  commands: {}                              # Define mongo shell commands to run
                                            # Syntax: mongodb_shell:
                                            #          dbname:
                                            #           - db.setProfilingLevel(1, 50)

# Log rotation
mongodb_logRotate:
  enabled: true
  file: /etc/logrotate.d/mongodb.conf
  options:
    - compress
    - copytruncate
    - daily
    - dateext
    - rotate 7
    - size 10M

